!!!html5
%html
  %head
    %meta(charset="utf-8")
    %meta(http-equiv="X-UA-Compatible" content="IE=edge")
    %meta(name="description" content="The LivingStyleGuide is a Ruby Gem to easily create front-end style guides with markdown while working with Sass/SCSS and Compass.")
    %meta(name="viewport" content="width=device-width, initial-scale=1")
    %meta(name="author" content="Nico Hagenburger")
    %title= data.page.title
    %link(href="#{asset_path(:css, 'styles')}" rel="stylesheet")
  %body.layout(class="#{'-subpage-' unless data.page.root}")
    .diamonds
      - 4.times do
        .diamonds--item
      .diamonds--item
        .diamonds--item-version-title Version
        = link_to 'Open Changelog', 'changelog.html', class: 'diamonds--item-changelog'
        .diamonds--item-version= livingstyleguide_gem_version
      - 3.times do
        .diamonds--item
      %a.diamonds--item(href="/")
      - 3.times do
        .diamonds--item
      %a.diamonds--item(href="/")
      %a.diamonds--item(href="/")
      - 2.times do
        .diamonds--item
      %a.diamonds--item(href="/")
        %h1.diamonds--item-tagline
          Helps you to create awesome front-end style guides with Sass and Markdown
      - 4.times do
        .diamonds--item
    .layout--container
      = yield
    %footer.footer
      %a.footer--made-in-berlin(href="http://www.hagenburger.net/BLOG/Made-in-Berlin.html") Made in Berlin
      %a.footer--made-by-hagenburger(href="http://www.hagenburger.net") Nico Hagenburger
      %a.footer--contact(href="http://www.hagenburger.net/CONTACT.html") Contact
    %script(src="http://code.jquery.com/jquery-2.1.3.min.js")
    %script
      :plain
        var _paq = _paq || [];
        _paq.push(["trackPageView"]);
        _paq.push(["enableLinkTracking"]);

        (function() {
          var u=(("https:" == document.location.protocol) ? "https" : "http") + "://nh.fornax.uberspace.de/piwik/";
          _paq.push(["setTrackerUrl", u+"piwik.php"]);
          _paq.push(["setSiteId", "2"]);
          var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0]; g.type="text/javascript";
          g.defer=true; g.async=true; g.src=u+"piwik.js"; s.parentNode.insertBefore(g,s);
        })();
        $('a[href^="/"]').click(function(e) {
          e.preventDefault();
          var url = this.href;
          $('body')[url.match(/\/$/) ? 'removeClass' : 'addClass']('-subpage-');
          $('.layout--container').animate({ opacity: 0 });
          $.get(url).done(function(html) {
            $('.layout--container').replaceWith($(html)[27])
            history.pushState({}, $('title').text(), url);
          })
        })

